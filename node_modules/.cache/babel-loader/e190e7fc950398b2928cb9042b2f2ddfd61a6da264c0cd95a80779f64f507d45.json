{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst use_slide_intersection_observer_1 = require(\"./hooks/use-slide-intersection-observer\");\nconst getSlideWidth = (count, wrapAround) => `${wrapAround ? 100 / (3 * count) : 100 / count}%`;\nconst getSlideStyles = (count, isCurrentSlide, isVisibleSlide, wrapAround, cellSpacing, animation, speed, zoomScale, adaptiveHeight, initializedAdaptiveHeight, slideWidth) => {\n  const width = slideWidth !== null && slideWidth !== void 0 ? slideWidth : getSlideWidth(count, wrapAround);\n  // const width = getSlideWidth(count, wrapAround);\n  const visibleSlideOpacity = isVisibleSlide ? 1 : 0;\n  const animationSpeed = animation === 'fade' ? 200 : 500;\n  let height = 'auto';\n  if (adaptiveHeight) {\n    if (initializedAdaptiveHeight) {\n      // Once adaptiveHeight is initialized, the frame will size to the height\n      // of all the visible slides\n      height = '100%';\n    } else if (isVisibleSlide) {\n      // If the slide is visible but we're still measuring heights, have\n      // visible slides just take up their natural height\n      height = 'auto';\n    } else {\n      // If the slide is not visible and we're still measuring heights, the\n      // slide should have height 0 so it doesn't contribute to the measured\n      // height of the frame\n      height = '0';\n    }\n  }\n  return {\n    width,\n    height,\n    padding: `0 ${cellSpacing ? cellSpacing / 2 : 0}px`,\n    transition: animation ? `${speed || animationSpeed}ms ease 0s` : undefined,\n    transform: animation === 'zoom' ? `scale(${isCurrentSlide && isVisibleSlide ? 1 : zoomScale || 0.85})` : undefined,\n    opacity: animation === 'fade' ? visibleSlideOpacity : 1\n  };\n};\nconst generateIndex = (index, count, typeOfSlide) => {\n  if (typeOfSlide === 'prev-cloned') {\n    return index - count;\n  }\n  if (typeOfSlide === 'next-cloned') {\n    return index + count;\n  }\n  return index;\n};\nconst Slide = _ref => {\n  let {\n    count,\n    children,\n    index,\n    isCurrentSlide,\n    typeOfSlide,\n    wrapAround,\n    cellSpacing,\n    slideWidth,\n    animation,\n    speed,\n    zoomScale,\n    onVisibleSlideHeightChange,\n    adaptiveHeight,\n    initializedAdaptiveHeight,\n    updateIOEntry,\n    id,\n    carouselRef\n  } = _ref;\n  var _a;\n  const customIndex = wrapAround ? generateIndex(index, count, typeOfSlide) : index;\n  const slideRef = (0, react_1.useRef)(null);\n  const entry = (0, use_slide_intersection_observer_1.useSlideIntersectionObserver)(slideRef, carouselRef, entry => {\n    updateIOEntry(id, (entry === null || entry === void 0 ? void 0 : entry.intersectionRatio) >= 0.95);\n  });\n  const isVisible = !!(entry === null || entry === void 0 ? void 0 : entry.isIntersecting);\n  const isFullyVisible = ((_a = entry === null || entry === void 0 ? void 0 : entry.intersectionRatio) !== null && _a !== void 0 ? _a : 1) >= 0.95;\n  const prevIsVisibleRef = (0, react_1.useRef)(false);\n  (0, react_1.useEffect)(() => {\n    var _a;\n    const node = slideRef.current;\n    if (node) {\n      const slideHeight = (_a = node.getBoundingClientRect()) === null || _a === void 0 ? void 0 : _a.height;\n      const prevIsVisible = prevIsVisibleRef.current;\n      if (isVisible && !prevIsVisible) {\n        onVisibleSlideHeightChange(customIndex, slideHeight);\n      } else if (!isVisible && prevIsVisible) {\n        onVisibleSlideHeightChange(customIndex, null);\n      }\n      prevIsVisibleRef.current = isVisible;\n    }\n  }, [customIndex, isVisible, onVisibleSlideHeightChange]);\n  const currentSlideClass = isCurrentSlide && isFullyVisible ? ' slide-current' : '';\n  return (0, jsx_runtime_1.jsx)(\"div\", Object.assign({\n    ref: slideRef\n  }, {\n    inert: isFullyVisible ? undefined : 'true'\n  }, {\n    className: `slide${currentSlideClass}${typeOfSlide ? ` ${typeOfSlide}` : ''}${isFullyVisible ? ' slide-visible' : ''}`,\n    style: getSlideStyles(count, isCurrentSlide, isFullyVisible, wrapAround, cellSpacing, animation, speed, zoomScale, adaptiveHeight, initializedAdaptiveHeight, slideWidth)\n  }, {\n    children: children\n  }));\n};\nexports.default = Slide;","map":{"version":3,"names":["react_1","require","use_slide_intersection_observer_1","getSlideWidth","count","wrapAround","getSlideStyles","isCurrentSlide","isVisibleSlide","cellSpacing","animation","speed","zoomScale","adaptiveHeight","initializedAdaptiveHeight","slideWidth","width","visibleSlideOpacity","animationSpeed","height","padding","transition","undefined","transform","opacity","generateIndex","index","typeOfSlide","Slide","_ref","children","onVisibleSlideHeightChange","updateIOEntry","id","carouselRef","customIndex","slideRef","useRef","entry","useSlideIntersectionObserver","intersectionRatio","isVisible","isIntersecting","isFullyVisible","_a","prevIsVisibleRef","useEffect","node","current","slideHeight","getBoundingClientRect","prevIsVisible","currentSlideClass","jsx_runtime_1","jsx","Object","assign","ref","inert","className","style","exports","default"],"sources":["../src/slide.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}